# ๐ฅ fetch_data.py โ ุฏุงูููุฏ ุฏุชุงุณุช ุงุฒ Kaggle

ุงู ูุงฺูู ูุณุฆูู ุฏุฑุงูุช ุฏุงุฏูโ ุฎุงู ูพุฑูฺู ุงุฒ Kaggle ู ุฐุฎุฑู ุขู ุฏุฑ ูพูุดู `data/raw/` ุงุณุช.

ุงู ุงููู ูุฑุญููโ Pipeline ุชุญูู Retail AI ูุญุณูุจ ูโุดูุฏ.

---

# ๐ฏ ูุฏู ุงู ูุงู ฺุณุชุ

ูุธููโ ุงุตู ุงู ุงุณฺฉุฑูพุช:

โ๏ธ ุงุชุตุงู ุจู Kaggle API  
โ๏ธ ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑ  
โ๏ธ ุฏุงูููุฏ ุฏุชุงุณุช  
โ๏ธ Extract ูุงูโูุง  
โ๏ธ ุฐุฎุฑู ุฏุฑ ูุณุฑ ูุดุฎุตโุดุฏู  

ุจุฏูู ุงุฌุฑุง ูููู ุงู ูุงูุ ุจููโ ูุฑุงุญู ูพุฑูฺู ูุงุจู ุงูุฌุงู ูุณุชูุฏ.

---

# ๐งญ ุฌุงฺฏุงู ุฏุฑ Pipeline

User
โ
fetch_data.py
โ
data/raw/
โ
clean_data.py

---

# ๐ ฺฉุฏ ฺฉุงูู

```python
import os
from kaggle.api.kaggle_api_extended import KaggleApi

def download_dataset():
    api = KaggleApi()
    api.authenticate()

    dataset = "tunguz/online-retail"  # ููููู
    path = "data/raw"
    os.makedirs(path, exist_ok=True)

    api.dataset_download_files(dataset, path=path, unzip=True)
    print("Dataset downloaded!")

if __name__ == "__main__":
    download_dataset()
```

---

# ๐ ุชูุถุญ ุฎุทโุจูโุฎุท ฺฉุฏ

## ๐ฆ import os

- ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ Python ุจุฑุง ฺฉุงุฑ ุจุง ุณุณุชู ูุงู:

- ุณุงุฎุช ูููุฏุฑ

- ุจุฑุฑุณ ูุฌูุฏ ูุณุฑ

- ูุฏุฑุช pathูุง

ุฏุฑ ุงู ูุงู ุจุฑุง ุงุฌุงุฏ ูพูุดู data/raw/ ุงุณุชูุงุฏู ูโุดูุฏ.

---

## ๐ฅ from kaggle.api.kaggle_api_extended import KaggleApi

ุงููพูุฑุช ฺฉูุงุณ ุงุตู Kaggle API.

ุงู ฺฉูุงุณ ุงูฺฉุงู:
- ุงุญุฑุงุฒ ููุช

- ูุณุช ุฏุชุงุณุชโูุง

- ุฏุงูููุฏ ูุงูโูุง

ุฑุง ูุฑุงูู ูโฺฉูุฏ.

---

## ๐ง ุชุนุฑู ุชุงุจุน download_dataset()

```
def download_dataset():
```

ุชูุงู ููุทู ุฏุงูููุฏ ุฏุงุฎู ุงู ุชุงุจุน ูุฑุงุฑ ุฏุงุฑุฏ ุชุง:

โ๏ธ ูุงุจู ุชุณุช ุจุงุดุฏ
โ๏ธ ูุงุจู ูุฑุงุฎูุงู ุงุฒ ุงุณฺฉุฑูพุชโูุง ุฏฺฏุฑ ุจุงุดุฏ
โ๏ธ ุณุงุฎุชุงุฑ ุชูุฒ ุฏุงุดุชู ุจุงุดุฏ

---

## ๐ api = KaggleApi()

ุณุงุฎุช ฺฉ ุดุก ุงุฒ ฺฉูุงุณ KaggleApi.

ุงู ุดุก ฺฉุงูฺฉุดู ููุทู ุจู ุณุฑูุฑ Kaggle ุงุฌุงุฏ ูโฺฉูุฏ.

---

## โ api.authenticate()

ุงู ุฎุท:

- ูุงู kaggle.json ุฑุง ูโุฎูุงูุฏ

- ุง Environment Variableูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ

ููุช ฺฉุงุฑุจุฑ ุฑุง ุชุงุฏ ูโฺฉูุฏ

ุงฺฏุฑ ฺฉุงููฺฏ ุงูุฌุงู ูุดุฏู ุจุงุดุฏ โ ุงู ุฎุท Error ูโุฏูุฏ.

---

## ๐ dataset = "tunguz/online-retail"

ุดูุงุณู ุฏุชุงุณุช ุฏุฑ Kaggle:

```
owner/dataset-name
```

ุงูุฌุง ูุซุงู:

๐ tunguz/online-retail

ุฏุฑ ูพุฑูฺู ูุงูุน ูโุดูุฏ configurable ฺฉุฑุฏ.

---

๐ path = "data/raw"

ูุญู ฺฉู ูุงู ุฎุงู ุฐุฎุฑู ูโุดูุฏ.

ุทุจู ูุนูุงุฑ ูพุฑูฺู:

ุชูุงู ุฏุงุฏูโ ุฏุงูููุฏุดุฏูโ ุงููู ุจุงุฏ ุฏุฑ:

```
data/raw/
```

ูุฑุงุฑ ุจฺฏุฑุฏ.

---

## ๐๏ธ os.makedirs(path, exist_ok=True)

ุงฺฏุฑ ูููุฏุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ โ ุณุงุฎุชู ูโุดูุฏ.

ูพุงุฑุงูุชุฑ:

- exist_ok=True
ุนู ุงฺฏุฑ ูููุฏุฑ ูุจูุงู ูุฌูุฏ ุฏุงุดุช โ ุฎุทุง ูุฏู.

ุงู ุทุฑุงุญ ุจุฑุง ุงุฌุฑุง ฺูุฏุจุงุฑูโ pipeline ุถุฑูุฑ ุงุณุช.

---

## ๐ฆ api.dataset_download_files(...)

```
api.dataset_download_files(dataset, path=path, unzip=True)
```

ุงู ุฏุณุชูุฑ:

- ูุงูโูุง ุฏุชุงุณุช ุฑุง ุฏุงูููุฏ ูโฺฉูุฏ

- ุฏุฑ ูุณุฑ ูุดุฎุต ุฐุฎุฑู ูโฺฉูุฏ

- ุงฺฏุฑ zip ุจุงุดุฏ โ extract ูโฺฉูุฏ

ูพุงุฑุงูุชุฑูุง:

| ูพุงุฑุงูุชุฑ | ุชูุถุญ |
| :--- | :--- |
| dataset | ูุงู ุฏุชุงุณุช |
| path | ูุณุฑ ุฐุฎุฑู |
| unzip | extract ุฎูุฏฺฉุงุฑ |

---

## ๐จ๏ธ print("Dataset downloaded!")

ูพุงู ุณุงุฏู ุจุฑุง Terminal.

ุฏุฑ ูพุฑูฺูโูุง ุจุฒุฑฺฏโุชุฑ ุจูโุฌุงุด logging ุงุณุชูุงุฏู ูโุดูุฏ.

---

## โถ๏ธ if name == "main"

```
if __name__ == "__main__":
    download_dataset()
```

ุงู ุจุฎุด ุนู:

ุงฺฏุฑ ุงู ูุงู ูุณุชูู ุงุฌุฑุง ุดุฏ:

```
python fetch_data.py
```

ุขูโููุช ุชุงุจุน download_dataset ุงุฌุฑุง ุดูุฏ.

ูู ุงฺฏุฑ ุงุฒ ุฌุง ุฏฺฏุฑ import ุดุฏ โ ุงุฌุฑุง ูุดูุฏ.

ุงูฺฏู ุงุณุชุงูุฏุงุฑุฏ Python ุงุณุช.

---

# ๐ค ูุฑูุฏโูุง ู ุฎุฑูุฌโูุง

๐ฅ ูุฑูุฏ
- Kaggle API Token
- ูุงู ุฏุชุงุณุช

๐ค ุฎุฑูุฌ
ูุงูโูุง ุฎุงู ุฏุฑ:
```
data/raw/
```

ูุซูุงู:

- OnlineRetail.csv

---

# ๐ง ูฺฉุงุช ุทุฑุงุญ ุญุฑููโุง

ุงู ูุงู ุทูุฑ ููุดุชู ุดุฏู ฺฉู:

โ๏ธ idempotent ุจุงุดุฏ (ุงุฌุฑุง ุฏูุจุงุฑู ุฎุฑุงุจ ูฺฉูุฏ)
โ๏ธ ูุงุจู ุชูุณุนู ุจุงุดุฏ
โ๏ธ ุงููู ูุฑุญููโ pipeline ุฑุง ุชูุฒ ุงูุฌุงู ุฏูุฏ

ุฏุฑ ูุณุฎู ุตูุนุชโุชุฑ ูโุชูุงู ุงุถุงูู ฺฉุฑุฏ:

- logging ุจุง logging module

- argparse ุจุฑุง dataset name

- retry ุฏุฑ ุฏุงูููุฏ

- checksum validation

---

# ๐งญ ูุณุฎู ูพุดุฑูุชูโุชุฑ (ุจุฑุง ุขูุฏู ูพุฑูฺู)

ุงุฏูโูุง ุชูุณุนู:

- ฺฏุฑูุชู dataset name ุงุฒ CLI:

```
python fetch_data.py --dataset tunguz/online-retail
```

- ูุงฺฏโฺฏุฑ ุจู ูุงู

- ุจุฑุฑุณ ูุฌูุฏ ูุงู ูุจู ุงุฒ ุฏุงูููุฏ

- config.yaml ูุฑฺฉุฒ

---

# โ ุฌูุนโุจูุฏ ุงู ูุงฺูู

fetch_data.py:

โ๏ธ ููุทู ุดุฑูุน pipeline ุงุณุช
โ๏ธ ุฏุงุฏู ุฎุงู ุฑุง ูุงุฑุฏ ุณุณุชู ูโฺฉูุฏ
โ๏ธ ุจู Kaggle ูุตู ูโุดูุฏ
โ๏ธ ูููุฏุฑูุง ุฑุง ูุฏุฑุช ูโฺฉูุฏ
โ๏ธ ูพุงูโ ฺฉู ุณุณุชู ุงุณุช